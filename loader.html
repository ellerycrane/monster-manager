<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Monster Manager Loader</title>
    <link rel="stylesheet" type="text/css" href="dist/css/monster-manager.css" />
</head>
<body>
<div id="monster-manager-container"></div>
<div class="editor">
    <h5>Edit monster data here: <a href="#" id="permalink">permalink</a></h5>
<textarea id="source">Kobold:
  ac: 12
  hp: 5
  speed: 30 ft.
  stats:
    - 7
    - 15
    - 9
    - 8
    - 7
    - 8
  attacks:
    - Dagger: +4, 1d4+2 piercing
    - Sling: +4, 1d4+2 bludgeoning
  statblock: http://i.imgur.com/02uwl0S.png
  avatar: http://i.imgur.com/S7DE0hg.png?1

Winged Kobold:
  ac: 13
  hp: 7
  speed: 30 ft., fly 30 ft.
  stats:
    - 7
    - 16
    - 9
    - 8
    - 7
    - 8
  senses:
    - darkvision 60 ft.
  attacks:
    - Dagger: +5, 1d4+3 piercing
    - Dropped Rock: +5, 1d6+3 bludgeoning
  statblock: http://i.imgur.com/VTGR6KR.png
  avatar: http://i.imgur.com/X9kAhJ7.jpg?1

Cloaker:
  ac: 14
  hp: 78
  speed: 10 ft., fly 40 ft.
  stats:
    - 17
    - 15
    - 12
    - 13
    - 12
    - 14
  skills:
    - Stealth: +5
  senses:
    - darkvision 60 ft.
  avatar: http://i.imgur.com/SdTKfBM.jpg?1
  attacks:
    - Bite: +6, 2d6+3 piercing
    - Tail: +6, 1d8+3 slashing

Cthulhu:
  ac: 25
  hp: 615
  speed: 60 ft., fly 120ft.
  stats:
    - 30
    - 10
    - 30
    - 26
    - 26
    - 28
  avatar: http://i.imgur.com/EyUFdjO.jpg

Tyrannosaurus Rex:
  ac: 10
  hp: 163
  stats:
    - 30
    - 10
    - 30
    - 1
    - 2
    - 8
</textarea>
</div>
<script type="text/javascript" src="https://code.jquery.com/jquery-git2.min.js" ></script>
<script type="text/javascript">
    window.parent.postMessage({monsterManagerLoaded:true}, '*');
    function receiveMessage(event) {
        event.preventDefault();
        var eventUrl = event.data.url;
        if(eventUrl == null){
            console.log("No url to load, aborting");
        } else {
            jQuery.ajax({
                url: eventUrl,
                dataType: "text"
            }).done(function (data) {
                console.log("Loaded data from url: "+eventUrl);
                event.source.postMessage({data: data, type: event.data.type, url: eventUrl}, event.origin);
            });
        }
    }
    window.addEventListener("message", receiveMessage, false);
</script>
</body>
</html>






